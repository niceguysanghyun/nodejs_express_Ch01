{"version":3,"sources":["../app.js"],"names":["createError","require","express","path","cookieParser","logger","headerPrinter","indexRouter","usersRouter","app","set","join","__dirname","use","json","urlencoded","extended","static","req","res","next","err","locals","message","error","get","status","render","module","exports"],"mappings":"AAAA;;AACA,IAAMA,cAAcC,QAAQ,aAAR,CAApB;AACA,IAAMC,UAAUD,QAAQ,SAAR,CAAhB;AACA,IAAME,OAAOF,QAAQ,MAAR,CAAb;AACA,IAAMG,eAAeH,QAAQ,eAAR,CAArB;AACA,IAAMI,SAASJ,QAAQ,QAAR,CAAf;;AAEA,IAAMK,gBAAgBL,QAAQ,iBAAR,CAAtB;AACA,IAAMM,cAAcN,QAAQ,gBAAR,CAApB;AACA,IAAMO,cAAcP,QAAQ,gBAAR,CAApB;;AAEA,IAAMQ,MAAMP,SAAZ;;AAEA;AACAO,IAAIC,GAAJ,CAAQ,OAAR,EAAiBP,KAAKQ,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACAH,IAAIC,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;;AAEAD,IAAII,GAAJ,CAAQR,OAAO,KAAP,CAAR;AACAI,IAAII,GAAJ,CAAQP,aAAR;AACAG,IAAII,GAAJ,CAAQX,QAAQY,IAAR,EAAR;AACAL,IAAII,GAAJ,CAAQX,QAAQa,UAAR,CAAmB,EAAEC,UAAU,KAAZ,EAAnB,CAAR;AACAP,IAAII,GAAJ,CAAQT,cAAR;AACAK,IAAII,GAAJ,CAAQX,QAAQe,MAAR,CAAed,KAAKQ,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR;;AAEAH,IAAII,GAAJ,CAAQ,GAAR,EAAaN,WAAb;AACAE,IAAII,GAAJ,CAAQ,QAAR,EAAkBL,WAAlB;;AAEA;AACAC,IAAII,GAAJ,CAAQ,UAASK,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC/BA,OAAKpB,YAAY,GAAZ,CAAL;AACD,CAFD;;AAIA;AACAS,IAAII,GAAJ,CAAQ,UAASQ,GAAT,EAAcH,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;AACpC;AACAD,MAAIG,MAAJ,CAAWC,OAAX,GAAqBF,IAAIE,OAAzB;AACAJ,MAAIG,MAAJ,CAAWE,KAAX,GAAmBN,IAAIT,GAAJ,CAAQgB,GAAR,CAAY,KAAZ,MAAuB,aAAvB,GAAuCJ,GAAvC,GAA6C,EAAhE;;AAEA;AACAF,MAAIO,MAAJ,CAAWL,IAAIK,MAAJ,IAAc,GAAzB;AACAP,MAAIQ,MAAJ,CAAW,OAAX;AACD,CARD;;AAUAC,OAAOC,OAAP,GAAiBpB,GAAjB","file":"app.js","sourcesContent":["'use strict';\nconst createError = require('http-errors');\nconst express = require('express');\nconst path = require('path');\nconst cookieParser = require('cookie-parser');\nconst logger = require('morgan');\n\nconst headerPrinter = require('./headerPrinter');\nconst indexRouter = require('./routes/index');\nconst usersRouter = require('./routes/users');\n\nconst app = express();\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'pug');\n\napp.use(logger('dev'));\napp.use(headerPrinter);\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\n\napp.use('/', indexRouter);\napp.use('/users', usersRouter);\n\n// catch 404 and forward to error handler\napp.use(function(req, res, next) {\n  next(createError(404));\n});\n\n// error handler\napp.use(function(err, req, res, next) {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\n\n  // render the error page\n  res.status(err.status || 500);\n  res.render('error');\n});\n\nmodule.exports = app;\n"]}